<!DOCTYPE html>
<html lang="en" ng-app="myApp">
	<head>
		<meta charset="ISO-8859-1">
		<title>Angularjs-Crud</title>
		<link rel="stylesheet" href="css/bootstrap.css" type="text/css">
		<script src="js/angular.js"></script>
		<script src="js/appCrud.js"></script>
		</head>
		<body  ng-controller="myController">
		<div class="container">
			<hr>
			<button type="button" class="btn btn-primary btn-lg pull-right" data-toggle="modal" data-target="#myModal">Add Contact</button>
			<h2>Address  Book</h2>
			<h5>Mistakes are proof that you are Trying</h5>
			<div class="clearfix"></div>
			<hr>
			<div class="alert alert-info alert-dismissible" role="alert" ng-if="info">
				<button type="button" class="close" aria-label="Close"><span aria-hidden="true" ng-click="clearInfo()">&times;</span></button>
				{{info}}
			</div>
			<div>
				<input class="btn btn-default" type="text" ng-model="searchBox">
				<button type="button" class="btn btn-info">
				<span class="glyphicon glyphicon-search"></span> Search
				</button>
			</div><br>
			<table class="table table-striped table-hover">
				<thead>
					<tr class="success">
						<th>Index</th>
						<th>Name</th>
						<th>Email</th>
						<th>Phone</th>
						<th>Edit</th>
						<th>Delete</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="user in users | filter : searchBox">
						<td> {{ $index+1 }}.</td>
						<td>{{user.name}}</td>
						<td>{{user.email}}</td>
						<td>{{user.phone}}</td>
						<td> <button class="btn btn-info btn-sm"  type="button" data-toggle="modal" data-target="#myModalEdit" ng-click="selectUser(user)">Edit</button> </td>
						<td> <button class="btn btn-danger btn-sm" type="button" data-toggle="modal" data-target="#myModalDelete" ng-click="selectUser(user)">Delete</button> </td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- Trigger the modal with a button -->
		<!-- Modal -->
		<div id="myModal" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">New Contact</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal">
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-2 control-label">Name</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" id="inputEmail3" placeholder="Name" ng-model="newUser.name">
								</div>
							</div>
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-2 control-label">Email</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" id="inputEmail3" placeholder="Email" ng-model="newUser.email">
								</div>
							</div>
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-2 control-label">Phone</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" id="inputEmail3" placeholder="Phone" ng-model="newUser.phone">
								</div>
							</div>
							
							<div class="form-group">
								<div class="col-sm-offset-2 col-sm-10">
									<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="saveUser();">Save</button>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
		<!-- Modal -->
		<div id="myModalEdit" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Edit Contact</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal">
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-2 control-label">Name</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" id="inputEmail3" placeholder="Name" ng-model="clickedUser.name">
								</div>
							</div>
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-2 control-label">Email</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" id="inputEmail3" placeholder="Email" ng-model="clickedUser.email">
								</div>
							</div>
							<div class="form-group">
								<label for="inputEmail3" class="col-sm-2 control-label">Phone</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" id="inputEmail3" placeholder="Phone" ng-model="clickedUser.phone">
								</div>
							</div>
							
							<div class="form-group">
								<div class="col-sm-offset-2 col-sm-10">
									<button type="button" class="btn btn-default" data-dismiss="modal">Done</button>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
		<!-- Modal -->
		<div id="myModalDelete" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Are You Sure?</h4>
					</div>
					<div class="modal-body">
						<h3 style="color: red">You are going to delete Contact "{{clickedUser.name}}". All information will be deleted and can't be undone. </h3>
						<br/>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default pull-left" data-dismiss="modal" ng-click="deleteUser()">Yes</button>
						<button type="button" class="btn btn-default pull-right" data-dismiss="modal">No</button>
					</div>
				</div>
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
	</body>
</html>